/* Reset */
* { margin:0; padding:0; box-sizing:border-box; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }

:root{
  --bg:#0f0b16;
  --card:#151226;
  --muted:#9aa0b4;
  --accent:#7c3aed; /* dark purple */
  --accent-2:#5b21b6;
  --surface:#0b0911;
  --glass: rgba(255,255,255,0.03);
}

body{
  background: linear-gradient(180deg, #08050a 0%, #0f0b16 100%);
  color: #e6e6ef;
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
}

.navbar {
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 20px; background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-bottom: 1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(6px);
}
.brand{ font-weight:800; color:var(--accent); font-size:1.35rem; letter-spacing:0.6px; }

.nav-right { display:flex; gap:10px; align-items:flex-end; }

.icon-btn {
  background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03);
  padding:10px 12px; border-radius:10px; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:6px;
}
.icon-btn .small-label { font-size:0.68rem; color:var(--muted); margin-top:6px; }
.icon-btn:hover { color:#fff; border-color: rgba(255,255,255,0.06); transform:translateY(-1px); }

.container { max-width:980px; margin:26px auto; display:grid; gap:18px; padding:18px; }

.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px; padding:18px; box-shadow: 0 6px 24px rgba(2,2,8,0.6);
  border: 1px solid rgba(255,255,255,0.03);
}

.card h2 { color:#fff; margin-bottom:12px; font-size:1.1rem; }

ul { list-style:none; margin-bottom:12px; padding-left:0; }
li.row { padding:10px; display:flex; justify-content:space-between; align-items:center; gap:12px; border-radius:8px; background:var(--glass); margin-bottom:8px; }
.row-title{ color:#e6e6ef; font-weight:600; flex:1; }

#playlistList li { padding:10px; display:flex; justify-content:space-between; align-items:center; border-radius:8px; background:transparent; margin-bottom:8px; }
.pl-item-title{ font-size:1.02rem; font-weight:700; color:#fff; cursor:pointer; padding:6px 8px; border-radius:6px; }
.pl-item-title:hover { background: rgba(255,255,255,0.02); }

button.btn {
  background: linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#fff; padding:8px 12px; border-radius:8px; border:none; cursor:pointer;
  box-shadow: 0 6px 18px rgba(92, 32, 160, 0.14);
}
button.btn.small { padding:6px 8px; font-size:0.95rem; }
button.btn.danger, .btn.small.danger { background: transparent; color:#ff7b7b; border:1px solid rgba(255,123,123,0.12); }
button.btn:hover { opacity:0.98; transform:translateY(-1px); transition: all 120ms ease; }

#createPlaylistBtn {
  background: linear-gradient(90deg,var(--accent),var(--accent-2));
  border-radius:10px; padding:10px 14px; color:#fff; border:none;
  box-shadow: 0 8px 24px rgba(124,58,237,0.12);
}

.playlist-actions { display:flex; gap:10px; margin-top:12px; }
.playlist-actions input { flex:1; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:#e6e6ef; }

.songs-header { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px; }
.playlist-name { font-weight:800; font-size:1.15rem; color:#fff; }
.songs-controls { display:flex; gap:8px; align-items:center; }

.track-actions { display:flex; gap:8px; align-items:center; }
.btn.queue { background: transparent; color:var(--muted); border:1px dashed rgba(255,255,255,0.03); padding:6px 8px; border-radius:8px; }
.btn.queue:hover { color:#fff; border-color: rgba(255,255,255,0.06); }

.overlay { position:fixed; inset:0; display:flex; align-items:flex-start; justify-content:center; padding:60px 16px; background: rgba(5,4,7,0.6); z-index:999; }
.overlay-box { width:100%; max-width:820px; background: linear-gradient(180deg, #0b0a11, #0f0b16); padding:14px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); box-shadow: 0 10px 30px rgba(0,0,0,0.6); }
.overlay-header { display:flex; gap:8px; align-items:center; margin-bottom:12px; }
.overlay-header input { flex:1; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:#e6e6ef; }
/* ---------- Profile chooser (tiles) ---------- */
.profile-list { display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap; padding:8px 0; }
.profile-tile {
  background: linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#fff;
  padding:12px 18px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
  box-shadow: 0 8px 24px rgba(124,58,237,0.12);
  border:none;
}
.profile-tile:hover { transform:translateY(-4px); opacity:0.98; transition: all 140ms ease; }

.close-btn { background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03); padding:8px 10px; border-radius:8px; cursor:pointer; }

.results { max-height:50vh; overflow:auto; padding:6px; }
.result-row { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:8px; border-radius:8px; background: rgba(255,255,255,0.01); margin-bottom:8px; }

.loading-overlay { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(0,0,0,0.6); z-index:2000; }
.loading-box { background: #0b0811; padding:18px; border-radius:8px; border:1px solid rgba(255,255,255,0.03); width:300px; text-align:center; }
.progress-bar { background: rgba(255,255,255,0.03); height:12px; border-radius:8px; overflow:hidden; margin-top:12px; }
#progressBar { height:100%; width:0%; background: linear-gradient(90deg,var(--accent),var(--accent-2)); transition:width 0.22s linear; }

/* now-playing + seek bar */
.now-playing { color:var(--muted); font-size:0.95rem; padding-left:12px; margin-top:8px; }
.progress-outer {
  width: 100%;
  height: 8px;
  background: rgba(255,255,255,0.08);
  border-radius: 6px;
  overflow: hidden;
  margin: 8px 0 10px 0;
  cursor: pointer;
}
.progress-inner {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg,var(--accent),var(--accent-2));
  transition: width 0.1s linear;
}

/* repair button + note */
.repair-wrap { display:flex; flex-direction:column; align-items:center; gap:6px; margin-top:6px; }
.repair-btn { padding:8px 14px; border-radius:10px; }
.inline-note { color: var(--muted); font-size: 0.85rem; text-align:center; max-width: 520px; }
.hidden { display:none !important; }
.link-btn { background:transparent; color:var(--accent); border:none; cursor:pointer; text-decoration:underline; }
.back-btn { margin-top:8px; background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03); padding:8px 10px; border-radius:8px; }

/* ------------------------------------ */

/* Failed Downloads Page */
#failedPage .overlay-box {
  max-width: 600px;
  margin: auto;
}
#failedResults .result-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid #444;
}
#failedResults .search-btn {
  background: #0077cc;
  color: white;
  border: none;
  padding: 4px 8px;
  border-radius: 4px;
  cursor: pointer;
}
#failedResults .search-btn:hover {
  background: #005fa3;
}

/* --- Music Bar --- */
.music-bar {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  background: #181818;
  color: #fff;
  display: flex;
  align-items: center;
  padding: 0 24px;
  height: 72px;
  z-index: 9999;
  box-shadow: 0 -2px 16px rgba(0,0,0,0.18);
}
.music-btn {
  background: none;
  border: none;
  color: #fff;
  font-size: 1.25rem; /* smaller */
  margin: 0 7px;
  cursor: pointer;
  transition: color 0.15s, background 0.15s;
  border-radius: 6px;
  padding: 5px 8px;
}
.music-song-name {
  flex: 2; /* allow more space */
  min-width: 0;
  font-size: 0.98rem;
  font-weight: 500;
  margin-left: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.music-btn:hover {
  color: #1db954;
}
.music-progress-outer {
  flex: 2;
  height: 8px;
  background: #404040;
  border-radius: 4px;
  margin: 0 24px;
  position: relative;
  cursor: pointer;
  overflow: hidden;
}
.music-progress-inner {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #1db954 0%, #7c3aed 100%);
  border-radius: 4px;
  transition: width 0.2s linear;
}
.music-btn.active {
  background: var(--accent); /* purple */
  color: #fff;
}
.music-btn.inactive {
  background: #181818; /* black */
  color: #fff;
}
.undl-row {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 10px;
  border-radius: 8px;
  background: rgba(255,255,255,0.01);
  margin-bottom: 12px;
}
.undl-title {
  font-weight: 600;
  color: #fff;
  font-size: 1.05rem;
  margin-bottom: 4px;
}
.undl-search-results {
  margin-top: 8px;
  padding-left: 8px;
}
.undl-search-panel {
  display: flex;
  flex-direction: column;   /* stack elements vertically */
  align-items: center;      /* center everything horizontally */
  gap: 10px;                /* spacing between input/button and results */
  margin: 10px 0;
  width: 100%;              /* full width of parent container */
}

.undl-search-panel input[type="text"] {
  width: 70%;               /* wide input bar */
  max-width: 500px;
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
  text-align: center;
}

/* Profile circle in navbar */
.profile-circle {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: purple;
  color: white;
  font-weight: bold;
  border: none;
  cursor: pointer;
  margin-left: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  text-transform: uppercase;
}

/* Profile overlay avatar */
.profile-avatar-wrap {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

.profile-avatar {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: purple;
  color: white;
  font-size: 2rem;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: auto;
  overflow: hidden;
}
.profile-circle img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}
.profile-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  background: purple;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-weight: bold;
  font-size: 14px;
}

.profile-btn img.avatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.hidden {
  display: none;
}
.profile-circle img { display: block; width:100%; height:100%; border-radius:50%; object-fit:cover; }
.profile-avatar img { display: block; width:100%; height:100%; border-radius:50%; object-fit:cover; }
.import-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.import-tabs button {
  padding: 8px 16px;
  border: none;
  background: #eee;
  cursor: pointer;
  border-radius: 4px;
}

.import-tabs button.active {
  background: #6c63ff;
  color: white;
}
.import-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.import-tabs button {
  flex: 1;
  padding: 10px;
  background: #333;
  border: none;
  color: white;
  cursor: pointer;
  border-radius: 6px;
}

.import-tabs button.active {
  background: #6200ea;
}
/* Import tabs */
.import-tabs {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 15px;
}
.import-tabs button {
  padding: 8px 16px;
  border: none;
  background: #444;
  color: #fff;
  border-radius: 6px;
  cursor: pointer;
}
.import-tabs button.active {
  background: #6a5acd;
}

/* Bigger Spotify search bar */
#spotifySearchInput {
  padding: 10px;
  font-size: 1rem;
  width: 100%;
  max-width: 400px;
  border-radius: 6px;
  border: 1px solid #666;
}

/* Center login button */
#spotifyLoginBtn {
  display: inline-block;
  padding: 12px 24px;
  font-size: 1.1rem;
  margin: 0 auto;
}
/* make import modal body scrollable so search bar is reachable */
#importPage, #importPage .content {
  max-height: 80vh;
  overflow-y: auto;
}

/* ensure spotify playlists / search sections don't exceed viewport */
#spotifyPlaylistsSection, #spotifyPublicSection {
  max-height: 60vh;
  overflow-y: auto;
}

/* add near your track / row styles */
.track-thumb {
  width: 56px;
  height: 56px;
  border-radius: 6px;
  object-fit: cover;
  background: #222; /* small neutral bg while loading */
  flex: 0 0 56px;
}
.track-thumb.placeholder {
  display: inline-block;
  background: linear-gradient(90deg, #2b2b2b, #222);
  opacity: 0.6;
}
.row { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:8px 12px; }
.row-title .title-text { font-weight:500; }
.meta.small { font-size:12px; color:var(--muted); margin-top:2px; }
